<!DOCTYPE html>
<html lang="fa">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>تبدیل متن به نمودار BPMN</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/style.css') }}"
    />
    <script src="https://unpkg.com/bpmn-js@11.3.0/dist/bpmn-viewer.development.js"></script>
  </head>
  <body dir="rtl">
    <header>
      <h1>تبدیل متن به نمودار فرایندی BPMN</h1>
      <p>
        توضیح فرایند را به صورت مرحله‌به‌مرحله وارد کنید؛ برنامه به صورت خودکار
        نمودار خطی BPMN را ایجاد می‌کند.
      </p>
    </header>
    <main>
      <section
        class="form border-beam border-beam--animated"
        style="
          --beam-radius: 20px;
          --beam-thickness: 1px;
          --beam-duration: 16s;
          --beam-delay: 0s;
          --beam-color-from: #93c5fd;
          --beam-color-to: #1d4ed8;
          --beam-opacity: 1;
          --beam-glow: 2;
          --beam-speed: 0.6;
        "
      >
        <svg class="beam-svg" aria-hidden="true">
          <defs>
            <linearGradient
              id="beamGradient1"
              x1="0%"
              y1="0%"
              x2="100%"
              y2="0%"
            >
              <stop offset="0%" stop-color="#93c5fd" />
              <stop offset="100%" stop-color="#1d4ed8" />
            </linearGradient>
          </defs>
          <rect
            x="0"
            y="0"
            width="100%"
            height="100%"
            rx="20"
            ry="20"
            fill="none"
            stroke="url(#beamGradient1)"
            stroke-width="1"
            vector-effect="non-scaling-stroke"
            pathLength="1000"
            stroke-dasharray="150 850"
          />
        </svg>
        <label for="processText">شرح فرایند</label>
        <textarea
          id="processText"
          rows="6"
          placeholder="مثال: مشتری سفارش را ثبت می‌کند. واحد فروش سفارش را بررسی می‌کند. فاکتور صادر می‌شود."
        ></textarea>
        <button id="convertBtn">تبدیل به نمودار</button>
        <p id="error" class="error" role="alert"></p>
      </section>
      <section
        class="viewer border-beam border-beam--animated"
        style="
          --beam-radius: 20px;
          --beam-thickness: 1px;
          --beam-duration: 16s;
          --beam-delay: 0s;
          --beam-color-from: #93c5fd;
          --beam-color-to: #1d4ed8;
          --beam-opacity: 1;
          --beam-glow: 2;
          --beam-speed: 0.6;
        "
      >
        <svg class="beam-svg" aria-hidden="true">
          <defs>
            <linearGradient
              id="beamGradient2"
              x1="0%"
              y1="0%"
              x2="100%"
              y2="0%"
            >
              <stop offset="0%" stop-color="#93c5fd" />
              <stop offset="100%" stop-color="#1d4ed8" />
            </linearGradient>
          </defs>
          <rect
            x="0"
            y="0"
            width="100%"
            height="100%"
            rx="20"
            ry="20"
            fill="none"
            stroke="url(#beamGradient2)"
            stroke-width="1"
            vector-effect="non-scaling-stroke"
            pathLength="1000"
            stroke-dasharray="150 850"
          />
        </svg>
        <div id="canvas"></div>
      </section>
    </main>
    <footer>
      <small>
        این نسخه آزمایشی است و ترجمه را به صورت خطی انجام می‌دهد. برای سناریوهای
        پیچیده لازم است الگوریتم تحلیل متن توسعه یابد.
      </small>
    </footer>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
  </body>
</html>
